/**
 * Created by jessemaxwell on 3/1/14.
 */var Navigation=function(){var e=this,t=$("nav.page-links"),n=$("#underline"),r=$(".destination"),i=[],s=$(".inner"),o=$("svg.menu-icon");e.initUnderline=function(){var e=t.find("li:first-child").width(),r=t.find("li:first-child").position().left;n.width(e).css("left",r).css("display","block")};e.setupNavItems=function(){for(var e=0,n=r.length;e<n;e++)t.find("a")[e].hash.substr(1)===r[e].id&&i.push(Math.round(r.eq(e).position().top))};e.moveUnderline=function(){var s=$(window).scrollTop();for(var o=0,u=r.length;o<u;o++){var a=t.find("li").eq(o);s<i[1]?e.initUnderline():s>=i[o]&&s<=i[o+1]&&n.width(a.width()).css("left",a.position().left)}};e.smallNav=function(){o.on("click",function(){s.toggleClass("menu-open");console.log("SVG clicked");e.controlNav();return!1});t.find("a").click(function(){s.removeClass("menu-open")});s.on("swiperight",e.handleSwipe);s.on("swipeleft",e.handleSwipe)};e.handleSwipe=function(t){console.log(t.type);if(t.type==="swiperight"){s.addClass("menu-open");e.controlNav()}else s.removeClass("menu-open");return!1};e.controlNav=function(){if(s.hasClass("menu-open")){console.log("Determined that the menu is currently open");s.on("click",function(){s.removeClass("menu-open");console.log("Class Removed");$(this).off("click");return!1})}};e.load=function(){if($(window).width()>=800){e.initUnderline();e.setupNavItems();$(window).on("resize",e.initUnderline);$(window).scroll(e.moveUnderline)}else e.smallNav()}},navigation=new Navigation;$(document).ready(navigation.load);